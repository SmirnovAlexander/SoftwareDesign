# Roguelike

Roguelike — это довольно популярный жанр компьютерных игр, названный в честь игры Rogue, 1980 года выхода. Характеризуется:

- простой тайловой или консольной графикой;
- активным использованием случайной генерации;
- перманентной смертью персонажа и невозможностью загрузить предыдущее сохранение после смерти персонажа;
- чрезвычайно развитым набором игровых правил (чем они и интересны с точки зрения архитектуры);
- высокой свободой действий персонажа (так называемые «игры-песочницы»).

Примеры:

- https://en.wikipedia.org/wiki/NetHack
- https://en.wikipedia.org/wiki/Angband_(video_game)
- https://en.wikipedia.org/wiki/Ancient_Domains_of_Mystery

Вашей задачей будет в командах по два-три человека провести анализ и построить модель предметной области согласно принципам предметно-ориентированного проектирования для такой компьютерной игры.

При этом должны быть выполнены следующие функциональные требования:

- персонаж игрока, способный перемещаться по карте, управляемый с клавиатуры;
- карта обычно генерируется, но для некоторых уровней грузится из файла;
- характеристики — здоровье, сила атаки и т.д.;
- экспа и уровни персонажа, с ростом уровня повышаются характеристики;
- инвентарь персонажа, включающий элементы, влияющие на его характеристики, которые можно надеть и снять;
- несколько разных видов мобов, способных перемещаться по карте;
- боевая система — движущиеся объекты, пытающиеся занять одну клетку карты, атакуют друг друга;
- консольная графика, традиционная для этого жанра игр.

Также требуется:

- использовать шаблон «Стратегия» для поддержки различных поведений мобов (агрессивного, трусливого, пассивного);
- использовать шаблон «Состояние» для динамического переключения поведения мобов
- мобы с низким здоровьем должны переключаться в трусливый режим;
- по мере восстановления здоровья переходить в исходный.
- использовать шаблон «Абстрактная фабрика» для создания мобов и предметов на карте;
- использовать шаблон «Команда» для поддержки взаимодействия с пользователем.

На что обратить внимание:

- на разделение системы на компоненты — решения вида «большой клубок классов» будут оценены очень низко;
- на прослеживаемость потока управления — должно быть понятно, с какого места запускается программа, кто кому передаёт управление;
- что все имеют необходимые для своей работы данные — например, стратегии поведения мобов знают про карту;
- на баланс детальности и читаемости диаграммы — она должна быть достаточно детальна, чтобы при реализации не требовалось принимать серьёзных архитектурных решений, но при этом обозрима. Например, старательно выписывать все методы классов и все поля не надо, но ключевые методы и поля всё-таки нужны.

Задача выполняется в командах по 2-3 человека. Результатом должна являться структурная диаграмма (например, диаграмма классов UML), описывающая систему, и текстовое описание того, как спроектированное приложение должно работать. Решение сдавать в виде .pdf-файла или ссылки на документ в каком-либо из облачных сервисов, обязательно указав, кто у вас в команде.
